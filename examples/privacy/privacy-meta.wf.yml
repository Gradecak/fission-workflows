# Fortunewhale shows of a basic workflow that combines both
# Fission Functions (fortune, whalesay) and Internalfunctions (noop)
#
# Usage example: fission fn test --name fortunewhale
apiVersion: 1
output: Testing
tasks:
  # Privacy:
  #   run: hello
  #   execOpts:
  #     multizone: true
  #   provenanceMeta:
  #     opType: "read"
  #     meta: '{"test":1}'
  Testing:
    run: if
    inputs:
      if: "{2 > 1}"
      then:
        # TODO resize image, change link
        run: write
        provenanceMeta:
          opType: "write"
      else:
        run: read
        provenanceMeta:
          opType: "read"
    # requires:
    # - Privacy

dataflow:
  consentCheck: true
  predecessor: "test"
